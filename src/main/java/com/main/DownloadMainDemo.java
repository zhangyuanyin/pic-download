package com.main;

import com.pic.action.DownloadAction;
import com.pic.util.Utils;

/**
 * <dt>导出图片主类</dt>
 * @author yyzhang
 * @since 2018年1月18日13:43:50
 */
public class DownloadMainDemo {
	private static final String FILE_PATH = "D:/pic/tmp/";
	private static final String SUBCLASS_SORT = "";
	private static final int THREADS = 4;
	
	public static void main(String[] args) throws Exception {
		
//		String appNo = "MH201706211100043230;MH201703211600026150;MH201707280900049306;MH201708081300050653;MH201708031400050126;MH201707051000045981";
		String appNo = "MH201707101200046802;MH201711061100065250;MH201711301500071430;MH201711021300064706;MH201708111700051134;MH201707291000049458;MH201703011600022609;MH201708062000050384;MH201708110800051024;MH201708221400052229;MH201707201800048505;MH201706291000044956;MH201708132000051192;MH201709051400054849;MH201702241400021770;MH201702281500022338;MH201709131100056314;MH201707061300046344;MH201709110900055804;MH201709061300055086;MH201709140900056496;MH201709041500054638;MH201709121000056040;MH201709180800056908;MH201702241000021647;MH201703171200025531;MH201709201600057507;MH201709201400057455;MH201709261100058498";
//		String appNo = "MH201712211700074618";
		
		String[] appNos = Utils.decomposeData(appNo, ";", THREADS);
		
		for (int i = 0; i < appNos.length; i++) {
			DownloadAction downloadAction = new DownloadAction();
			downloadAction.setAppNo(appNos[i]);
			downloadAction.setSubclassSort(SUBCLASS_SORT);
			downloadAction.setFilePath(FILE_PATH);
			Thread downloadThread = new Thread(downloadAction);
			downloadThread.start();
		}
	}
}
